<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Insurance Rate Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        form input, form select {
            padding: 5px;
            margin: 5px;
        }
        button {
            padding: 10px;
			margin:5px;
            background-color: #3293a8;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #3289a8;
        }
    </style>
</head>
<body>
    <h1>Insurance Rate Calculator</h1>
    <form th:action="@{/calculateRate}" method="post">
        <label for="zipCode">Zip Code:</label>
        <input type="text" id="zipCode" name="zipCode" required th:value="${zipCode}">
        <br><br>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required th:value="${age}">
        <br><br>

        <label for="gender">Gender:</label>
        <select id="gender" name="gender">
            <option value="Male" th:selected="${gender == 'Male'}">Male</option>
            <option value="Female" th:selected="${gender == 'Female'}">Female</option>
        </select>
        <br><br>

        <button type="submit">Calculate Rate</button>
    </form>

    <div>
        <h2>Rate: <span th:text="${rate}"></span></h2>
    </div>
	<div>
	    <button id = redirectButton>Update Rate Table</button>
	</div>
	<script>
		document.getElementById("redirectButton").addEventListener("click", function () {
		    window.open("/rateTable", '_blank');
		});
	</script>	
</body>
</html>
